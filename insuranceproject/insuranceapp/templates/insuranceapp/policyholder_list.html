{% extends "insuranceapp/base.html" %}

{% block content %}
    <h3>List of Policyholders</h3>
    <a class="button button-create" href="{% url 'insuranceapp:policyholder-create' %}">
        <i class="fa-solid fa-user-plus"></i>
        Create
    </a>
    {% if policyholder_list %}
        <table>
            <thead>
                <tr>
                    <th>Last Name</th>
                    <th>First Name</th>
                    <th>Birth Date</th>
                    <th>Personal ID</th>
                    <th>Policyholder Detail</th>
                </tr>
            </thead>
            <tbody>
                {% for policyholder in policyholder_list %}
                    <tr>
                        <td>{{ policyholder.last_name }}</td>
                        <td>{{ policyholder.first_name }}</td>
                        <td>{{ policyholder.birth_date|date:"d.m.Y" }}</td>
                        <td>{{ policyholder.personal_identification_number_as_string }}</td>
                        <td>
                            <a class="button button-detail" href="{% url 'insuranceapp:policyholder-detail' policyholder.id %}">
                                <i class="fa-solid fa-user"></i>
                                Detail
                            </a>
                        </td>
                    </tr>
                {% endfor %}
            </tbody>
        </table>
    {% else %}
        <p><i>There are no registered policyholders yet.</i></p>
    {% endif %}
{% endblock content %}